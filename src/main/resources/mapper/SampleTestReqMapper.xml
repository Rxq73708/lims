<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.dsj.lims.dao.SampleTestReqMapper">
    <select id="getSampleTestReq" resultType="SampleTestReq">
        select s1.*,sampleName from sample_test_req s1,sample s2
        where s1.sampleId=s2.id and state=#{state} limit #{start},#{size}
    </select>

    <select id="count" resultType="int">
        select count(1) from sample_test_req where state=#{state}
    </select>

    <update id="processing">
        update sample_test_req set state = 2 where id in
        <foreach collection="array" open="(" separator="," close=")" item="id">
            #{id}
        </foreach>
    </update>
    <!--增加-->
    <insert id="sampleTestReqAdd">
    insert into sample_test_req(sampleReqId,sampleId,count,speed,plan,userReq,reqDate,reqDesc)
    values(#{sampleReqId},#{sampleId},#{count},#{speed},#{plan},#{userReq},#{reqDate},#{reqDesc})
</insert>
    <!--修改-->
    <!-- <update id="assessUpdate">
 update sample_test_req set sampleReqId=#{sampleReqId},sampleId=#{sampleId},count=#{count},speed=#{speed},
 plan=#{plan},userReq=#{userReq},reqDate=#{reqDate},reqDesc=#{reqDesc}}
 where id=#{id};
     </update>-->
    <!--删除-->
    <delete id="sampleTestReqDelete">
delete from SampleTestReq where id=#{id};
</delete>


</mapper>