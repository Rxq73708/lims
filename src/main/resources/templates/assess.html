<table id="assess_dg">
    <thead>
    <tr>
        <th field="id" width="20" align="center" halign="center" sortable="true">编号</th>
        <th field="empName" width="100" align="center" halign="center"
            editor="{type:'validatebox',options:{required:true}}">姓名
        </th>
        <th field="assessDate" width="50" align="center" halign="center"
            editor="{type:'datebox',options:{required:true}}" sortable="true">考核日期
        </th>
        <th field="signature" width="50" align="center" halign="center"
            editor="{type:'validatebox',options:{required:true}}">领导签字
        </th>
        <th field="details" width="50" align="center" halign="center"
            editor="{type:'validatebox',options:{required:true}}">考核表路径
        </th>
    </tr>
    </thead>
</table>
<div id="assess_toolbar" style="padding:5px;height: auto">
    <div style="float: right;left: 50px">
        姓名：<input class="easyui-textbox" style="width: 150px" data-options="prompt:'请输入姓名...',
        icons:[
        {
            iconCls:'icon-clear',
            handler:function(e){
                $(e.data.target).textbox('setValue','');
            }
        },
        {
            iconCls:'icon-search',
            handler: function(e){
                var v = $(e.data.target).textbox('getValue');
                $('#user_dg').datagrid('load',{
                    searchName: $('#searchEmpName').val()
                });
            }
        }]" type="text" id="searchEmpName"/>
    </div>
    <div>
        <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-add" plain="true"
           onclick="javascript:$('#assess_dg').edatagrid('addRow')">新建</a>
        <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-remove" plain="true"
           onclick="javascript:$('#assess_dg').edatagrid('destroyRow')">删除</a>
        <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-save" plain="true"
           onclick="javascript:$('#assess_dg').edatagrid('saveRow')">保存</a>
        <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-undo" plain="true"
           onclick="javascript:$('#assess_dg').edatagrid('cancelRow')">取消</a>
    </div>
</div>
<script>
    $(function () {
        //edatagrid加载配置
        $('#assess_dg').edatagrid({
            url: 'assess/list',
            saveUrl: 'assess/add',
            updateUrl: 'assess/update',
            destroyUrl: 'assess/delete',
            fit: false,
            //title:'部门考核',
            toolbar: '#assess_toolbar',
            pagination: true,
            idField: 'id',
            rownumbers: true,
            fitColumns: true,
            singleSelect: true,
            remoteSort: false,
            sortName: 'id',
            sortOrder: 'asc',
            //各行换色
            /*rowStyler: function(index,row){
                if ((index % 2)==0){
                    return 'background-color:rgb(233,241,254)';
                }
            },*/
            //删除时消息提示
            destroyMsg: {
                norecord: {	// when no record is selected
                    title: '警告',
                    msg: '没有选中要删除的考核记录'
                },
                confirm: {	// when select a row
                    title: '删除',
                    msg: '你真的要删除该考核记录吗？'
                }
            }
        });

        //设置分页控件
        var p = $('#assess_dg').edatagrid('getPager');
        $(p).pagination({
            pageSize: 10,
            pageList: [5, 10, 15],
            beforePageText: '第',
            afterPageText: '页    共{pages}页',
            displayMsg: '当前显示 {from} - {to} 条记录  共 {total} 条记录'
        });
    });

    //查询方法
    // function doSearch() {
    //     $('#assess_dg').datagrid('load', {
    //         searchName: $('#searchName').val()
    //     });
    // }
</script>